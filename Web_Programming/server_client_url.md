# 서버와 클라이언트

[TOC]

## 서버와 클라이 언트의 데이터를 주고 받는 방법

### 요청 메서드

- CRUD
    - Create
    - Read
    - Update
    - Delete
- CRUD와 요청 메소드(GET, POST, PUT, DELETE)
    - GET: read
    - POST: create
    - PUT: update
    - DELETE: delete

1. GET

    클라이언트가 서버에 데이터를 요청할 때 사용하는 메소드

2. POST

    서버에 특정 데이터를 추가하는 요청할 때 사용하는 메소드

3. PUT

    서버에 특정 데이터에 대해 수정 요청할 때 사용하는 메소드

4. DELETE

    서버에 특정 데이터를 삭제 요청할 때 사용하는 메소드

참고:

데이터를 요청할 때 데이터를 요청하는 형태에 따라 메소드가 달라진다. 그러나 중요한 점은 데이터를 요청할 때 GET 요청만 할 필요는 없다. POST로 요청해도 되고, PUT, DELETE로 요청해도 큰 상관은 없다.

### 응답 코드

- 1xx: 조건부 응답
- 2xx: 성공
- 3xx: 새로고침 완료
- 4xx: 요청 오류
    - 400: 잘못 요청
    - 401: 권한 없음
    - 403: 금지 됨
    - 404: 찾을 수 없음
    - 405: 잘못된 요청 메소드
- 500: 서버 오류

### 헤더

서버와 클라이언트의 정보를 포함하고 있는 것

클라이언트가 서버에 데이터를 요청할 때 포함된 헤더를 요청 헤더(request header)

서버가 클라이언트에게 응답할 때 포함된 헤더를 응답 헤더(response header)

클라이언트와 서버 양측 모두에서 사용되는 일반적인 정보가 포함된 헤더를 일반 해더(general header)

보이지 않는 헤더를 엔티티 헤더(entity header)라고 부른다.

클라이언트는 일반 헤더 + 요청 헤더 + 엔티티 헤더의 형태로 만들어 요청하고,

서버는 일반 헤어 + 응답 헤더 + 엔티티 헤더의 형태로 응답한다.

## URL(Uniform Resource Locator)

네트워크상에서 자원을 요청하는 규약.

### URL 구조

```
프로토콜://주소 또는 IP:포트 번호/리소스 경로?쿼리 스트링

# 주소 또는 IP: 웹 사이트에 접속할 때 입력하고 들어가는 것
# 포트 번호: 프로토콜에 의해 정의할 수 있기 때문에 생략 가능(프로토콜 HTTP를 사용할 경우 80번 포트를 사용한다는 의미)
# 리소스 경로: 한 사이트에서 페이지를 옮길 때마다 다르게 표현됨
# 쿼리 스트링: 데이터가 포함되는 부분
```

인터넷에서 주로 사용하는 프로토콜은 `http`이지만 이 외에 `FTP`, `SFTP`, `SSH` 등 다양한 프로토콜이 존재.

프로토콜, IP 주소, 포트 번호는 요청하고자 하는 타겟을 의미.

`http`: 80번 포트

`https`: 443번 포트

`FTP`: 20번 포트, 21번 포트 (파일 전송 프로토콜)

`telnet`: 23번 포트 (원격 컴퓨터에 접속하는 프로토콜)

`ssh`: 22번 포트 (원격 컴퓨터에 접속하는 프로토콜)

ex) 우리가 웹 브라우저에서 `http://사이트`를 입력하면 `http`가 80번 포트 번호를 의미하기 때문에 사이트의 80번 포트 번호로 열린 서버에 데이터를 요청하게 된다. IP는 목적지 컴퓨터가 되며 포트 번호는 목적지 컴퓨터에서 어떤 프로그램을 의미하는지 알려주게 된다.

IP 주소와 프로토콜, 포트 번호를 이용하여 타겟에 접속하면 데이터를 요청해야 한다. `http`와 `https`는 리소스 경로, 쿼리 스트링과 헤더를 통하여 요청하고자 하는 데이터를 포함할 수 있다.

### 리소스 경로

- A 제품 페이지: `http://www.example.com/product/1`
- B 제품 페이지: `http://www.example.com/product/2`

이런 경우 product는 리소스 경로, 1, 2는 데이터에 해당

### 쿼리스트링

쿼리스트링은 클라이언트가 서버에 보내는 데이터

- A 제품 페이지: `http://www.example.com/product/1`

리소스 경로와 쿼리스트링은 물음표로 구분

? 뒤에는 `변수=데이터&변수=데이터` 의 형태로 엔드를 이용하여 각각의 데이터를 구분하여 전송

### header body

헤더의 바디라는 곳에 데이터를 포함시킬 수 있음

POST 요청을 하게 되면 데이터를 Body에 실어 보내게 된다. 앞의 두 가지 방식인 리소스 경로, 쿼리스트링에 데이터를 함께 보내면 데이터를 보내는 데 한계가 있다. Header의 Body라는 곳에 데이터를 함께 보내면 앞의 방식보다 더 많은 데이터를 보낼 수 있다. 이 경우 URL로 확인이 불가능하다.

Requests Method가 POST일 때만 Body에 데이터가 존재한다.